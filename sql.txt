SELECT "blog"."id" AS "blog_id", "blog"."name" AS "blog_name", "blog"."description" AS "blog_description", "blog"."websiteUrl" AS "blog_websiteUrl", "blog"."isMembership" AS "blog_isMembership", "blog"."createdAt" AS "blog_createdAt", (SELECT json_agg(files) AS "wallpaper" FROM "files" "files" WHERE ( "files"."blogId" = "blog"."id" AND "files"."type" = 'wallpaper' ) AND ( "files"."deletedAt" IS NULL )) AS "wallpaper", (SELECT json_agg(files) AS "main" FROM "files" "files" WHERE ( "files"."blogId" = "blog"."id" AND "files"."type" = 'main' ) AND ( "files"."deletedAt" IS NULL )) AS "main", (SELECT count(*) AS "subscribersCount" FROM "users_blogs" "users_blogs" WHERE ( "users_blogs"."blogId" = $1 AND "users_blogs"."status" = 'Subscribed' ) AND ( "users_blogs"."deletedAt" IS NULL )) AS "subscribersCount", (SELECT "users_blogs"."status" AS "status" FROM "users_blogs" "users_blogs" WHERE ( "users_blogs"."userId" = $2 AND "users_blogs"."blogId" = $3 ) AND ( "users_blogs"."deletedAt" IS NULL )) AS "status" FROM "blogs" "blog" WHERE "blog"."id" = $4 AND "blog"."isBanned" = NOT(true)